(()=>{var qe=Object.defineProperty,$e=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var le=(e,t,_)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:_}):e[t]=_,Q=(e,t)=>{for(var _ in t||(t={}))ce.call(t,_)&&le(e,_,t[_]);if(M)for(var _ of M(t))se.call(t,_)&&le(e,_,t[_]);return e},ae=(e,t)=>$e(e,Re(t));var fe=(e,t)=>{var _={};for(var n in e)ce.call(e,n)&&t.indexOf(n)<0&&(_[n]=e[n]);if(e!=null&&M)for(var n of M(e))t.indexOf(n)<0&&se.call(e,n)&&(_[n]=e[n]);return _};var j=(e,t,_)=>new Promise((n,i)=>{var r=s=>{try{c(_.next(s))}catch(u){i(u)}},l=s=>{try{c(_.throw(s))}catch(u){i(u)}},c=s=>s.done?n(s.value):Promise.resolve(s.value).then(r,l);c((_=_.apply(e,t)).next())});var $,d,me,Be,H,pe,ye,ge,be,ee,Z,X,Oe,U={},ke=[],ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,R=Array.isArray;function w(e,t){for(var _ in t)e[_]=t[_];return e}function te(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Ge(e,t,_){var n,i,r,l={};for(r in t)r=="key"?n=t[r]:r=="ref"?i=t[r]:l[r]=t[r];if(arguments.length>2&&(l.children=arguments.length>3?$.call(arguments,2):_),typeof e=="function"&&e.defaultProps!=null)for(r in e.defaultProps)l[r]===void 0&&(l[r]=e.defaultProps[r]);return L(e,l,n,i,null)}function L(e,t,_,n,i){var r={type:e,props:t,key:_,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i==null?++me:i,__i:-1,__u:0};return i==null&&d.vnode!=null&&d.vnode(r),r}function T(e){return e.children}function W(e,t){this.props=e,this.context=t}function D(e,t){if(t==null)return e.__?D(e.__,e.__i+1):null;for(var _;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null)return _.__e;return typeof e.type=="function"?D(e):null}function xe(e){var t,_;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((_=e.__k[t])!=null&&_.__e!=null){e.__e=e.__c.base=_.__e;break}return xe(e)}}function de(e){(!e.__d&&(e.__d=!0)&&H.push(e)&&!q.__r++||pe!=d.debounceRendering)&&((pe=d.debounceRendering)||ye)(q)}function q(){for(var e,t,_,n,i,r,l,c=1;H.length;)H.length>c&&H.sort(ge),e=H.shift(),c=H.length,e.__d&&(_=void 0,n=void 0,i=(n=(t=e).__v).__e,r=[],l=[],t.__P&&((_=w({},n)).__v=n.__v+1,d.vnode&&d.vnode(_),_e(t.__P,_,n,t.__n,t.__P.namespaceURI,32&n.__u?[i]:null,r,i==null?D(n):i,!!(32&n.__u),l),_.__v=n.__v,_.__.__k[_.__i]=_,Pe(r,_,l),n.__e=n.__=null,_.__e!=i&&xe(_)));q.__r=0}function Ce(e,t,_,n,i,r,l,c,s,u,f){var o,p,a,g,x,b,h,v=n&&n.__k||ke,P=t.length;for(s=Je(_,t,v,s,P),o=0;o<P;o++)(a=_.__k[o])!=null&&(p=a.__i==-1?U:v[a.__i]||U,a.__i=o,b=_e(e,a,p,i,r,l,c,s,u,f),g=a.__e,a.ref&&p.ref!=a.ref&&(p.ref&&ne(p.ref,null,a),f.push(a.ref,a.__c||g,a)),x==null&&g!=null&&(x=g),(h=!!(4&a.__u))||p.__k===a.__k?s=we(a,s,e,h):typeof a.type=="function"&&b!==void 0?s=b:g&&(s=g.nextSibling),a.__u&=-7);return _.__e=x,s}function Je(e,t,_,n,i){var r,l,c,s,u,f=_.length,o=f,p=0;for(e.__k=new Array(i),r=0;r<i;r++)(l=t[r])!=null&&typeof l!="boolean"&&typeof l!="function"?(s=r+p,(l=e.__k[r]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?L(null,l,null,null,null):R(l)?L(T,{children:l},null,null,null):l.constructor==null&&l.__b>0?L(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=e,l.__b=e.__b+1,c=null,(u=l.__i=Ke(l,_,s,o))!=-1&&(o--,(c=_[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(i>f?p--:i<f&&p++),typeof l.type!="function"&&(l.__u|=4)):u!=s&&(u==s-1?p--:u==s+1?p++:(u>s?p--:p++,l.__u|=4))):e.__k[r]=null;if(o)for(r=0;r<f;r++)(c=_[r])!=null&&(2&c.__u)==0&&(c.__e==n&&(n=D(c)),He(c,c));return n}function we(e,t,_,n){var i,r;if(typeof e.type=="function"){for(i=e.__k,r=0;i&&r<i.length;r++)i[r]&&(i[r].__=e,t=we(i[r],t,_,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=D(e)),_.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Ke(e,t,_,n){var i,r,l,c=e.key,s=e.type,u=t[_],f=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||f&&c==u.key&&s==u.type)return _;if(n>(f?1:0)){for(i=_-1,r=_+1;i>=0||r<t.length;)if((u=t[l=i>=0?i--:r++])!=null&&(2&u.__u)==0&&c==u.key&&s==u.type)return l}return-1}function he(e,t,_){t[0]=="-"?e.setProperty(t,_==null?"":_):e[t]=_==null?"":typeof _!="number"||ze.test(t)?_:_+"px"}function I(e,t,_,n,i){var r,l;e:if(t=="style")if(typeof _=="string")e.style.cssText=_;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)_&&t in _||he(e.style,t,"");if(_)for(t in _)n&&_[t]==n[t]||he(e.style,t,_[t])}else if(t[0]=="o"&&t[1]=="n")r=t!=(t=t.replace(be,"$1")),l=t.toLowerCase(),t=l in e||t=="onFocusOut"||t=="onFocusIn"?l.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+r]=_,_?n?_.u=n.u:(_.u=ee,e.addEventListener(t,r?X:Z,r)):e.removeEventListener(t,r?X:Z,r);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=_==null?"":_;break e}catch(c){}typeof _=="function"||(_==null||_===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&_==1?"":_))}}function ve(e){return function(t){if(this.l){var _=this.l[t.type+e];if(t.t==null)t.t=ee++;else if(t.t<_.u)return;return _(d.event?d.event(t):t)}}}function _e(e,t,_,n,i,r,l,c,s,u){var f,o,p,a,g,x,b,h,v,P,E,V,A,ue,F,N,K,C=t.type;if(t.constructor!=null)return null;128&_.__u&&(s=!!(32&_.__u),r=[c=t.__e=_.__e]),(f=d.__b)&&f(t);e:if(typeof C=="function")try{if(h=t.props,v="prototype"in C&&C.prototype.render,P=(f=C.contextType)&&n[f.__c],E=f?P?P.props.value:f.__:n,_.__c?b=(o=t.__c=_.__c).__=o.__E:(v?t.__c=o=new C(h,E):(t.__c=o=new W(h,E),o.constructor=C,o.render=Ze),P&&P.sub(o),o.props=h,o.state||(o.state={}),o.context=E,o.__n=n,p=o.__d=!0,o.__h=[],o._sb=[]),v&&o.__s==null&&(o.__s=o.state),v&&C.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=w({},o.__s)),w(o.__s,C.getDerivedStateFromProps(h,o.__s))),a=o.props,g=o.state,o.__v=t,p)v&&C.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),v&&o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(v&&C.getDerivedStateFromProps==null&&h!==a&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(h,E),!o.__e&&o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(h,o.__s,E)===!1||t.__v==_.__v){for(t.__v!=_.__v&&(o.props=h,o.state=o.__s,o.__d=!1),t.__e=_.__e,t.__k=_.__k,t.__k.some(function(S){S&&(S.__=t)}),V=0;V<o._sb.length;V++)o.__h.push(o._sb[V]);o._sb=[],o.__h.length&&l.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(h,o.__s,E),v&&o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(a,g,x)})}if(o.context=E,o.props=h,o.__P=e,o.__e=!1,A=d.__r,ue=0,v){for(o.state=o.__s,o.__d=!1,A&&A(t),f=o.render(o.props,o.state,o.context),F=0;F<o._sb.length;F++)o.__h.push(o._sb[F]);o._sb=[]}else do o.__d=!1,A&&A(t),f=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++ue<25);o.state=o.__s,o.getChildContext!=null&&(n=w(w({},n),o.getChildContext())),v&&!p&&o.getSnapshotBeforeUpdate!=null&&(x=o.getSnapshotBeforeUpdate(a,g)),N=f,f!=null&&f.type===T&&f.key==null&&(N=Ee(f.props.children)),c=Ce(e,R(N)?N:[N],t,_,n,i,r,l,c,s,u),o.base=t.__e,t.__u&=-161,o.__h.length&&l.push(o),b&&(o.__E=o.__=null)}catch(S){if(t.__v=null,s||r!=null)if(S.then){for(t.__u|=s?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;r[r.indexOf(c)]=null,t.__e=c}else{for(K=r.length;K--;)te(r[K]);Y(t)}else t.__e=_.__e,t.__k=_.__k,S.then||Y(t);d.__e(S,t,_)}else r==null&&t.__v==_.__v?(t.__k=_.__k,t.__e=_.__e):c=t.__e=Qe(_.__e,t,_,n,i,r,l,s,u);return(f=d.diffed)&&f(t),128&t.__u?void 0:c}function Y(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Y)}function Pe(e,t,_){for(var n=0;n<_.length;n++)ne(_[n],_[++n],_[++n]);d.__c&&d.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(r){r.call(i)})}catch(r){d.__e(r,i.__v)}})}function Ee(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:R(e)?e.map(Ee):w({},e)}function Qe(e,t,_,n,i,r,l,c,s){var u,f,o,p,a,g,x,b=_.props,h=t.props,v=t.type;if(v=="svg"?i="http://www.w3.org/2000/svg":v=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),r!=null){for(u=0;u<r.length;u++)if((a=r[u])&&"setAttribute"in a==!!v&&(v?a.localName==v:a.nodeType==3)){e=a,r[u]=null;break}}if(e==null){if(v==null)return document.createTextNode(h);e=document.createElementNS(i,v,h.is&&h),c&&(d.__m&&d.__m(t,r),c=!1),r=null}if(v==null)b===h||c&&e.data==h||(e.data=h);else{if(r=r&&$.call(e.childNodes),b=_.props||U,!c&&r!=null)for(b={},u=0;u<e.attributes.length;u++)b[(a=e.attributes[u]).name]=a.value;for(u in b)if(a=b[u],u!="children"){if(u=="dangerouslySetInnerHTML")o=a;else if(!(u in h)){if(u=="value"&&"defaultValue"in h||u=="checked"&&"defaultChecked"in h)continue;I(e,u,null,a,i)}}for(u in h)a=h[u],u=="children"?p=a:u=="dangerouslySetInnerHTML"?f=a:u=="value"?g=a:u=="checked"?x=a:c&&typeof a!="function"||b[u]===a||I(e,u,a,b[u],i);if(f)c||o&&(f.__html==o.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(o&&(e.innerHTML=""),Ce(t.type=="template"?e.content:e,R(p)?p:[p],t,_,n,v=="foreignObject"?"http://www.w3.org/1999/xhtml":i,r,l,r?r[0]:_.__k&&D(_,0),c,s),r!=null)for(u=r.length;u--;)te(r[u]);c||(u="value",v=="progress"&&g==null?e.removeAttribute("value"):g!=null&&(g!==e[u]||v=="progress"&&!g||v=="option"&&g!=b[u])&&I(e,u,g,b[u],i),u="checked",x!=null&&x!=e[u]&&I(e,u,x,b[u],i))}return e}function ne(e,t,_){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(i){d.__e(i,_)}}function He(e,t,_){var n,i;if(d.unmount&&d.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||ne(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(r){d.__e(r,t)}n.base=n.__P=null}if(n=e.__k)for(i=0;i<n.length;i++)n[i]&&He(n[i],t,_||typeof e.type!="function");_||te(e.__e),e.__c=e.__=e.__e=void 0}function Ze(e,t,_){return this.constructor(e,_)}function B(e,t,_){var n,i,r,l;t==document&&(t=document.documentElement),d.__&&d.__(e,t),i=(n=typeof _=="function")?null:_&&_.__k||t.__k,r=[],l=[],_e(t,e=(!n&&_||t).__k=Ge(T,null,[e]),i||U,U,t.namespaceURI,!n&&_?[_]:i?null:t.firstChild?$.call(t.childNodes):null,r,!n&&_?_:i?i.__e:t.firstChild,n,l),Pe(r,e,l)}$=ke.slice,d={__e:function(e,t,_,n){for(var i,r,l;t=t.__;)if((i=t.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(e)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,n||{}),l=i.__d),l)return i.__E=i}catch(c){e=c}throw e}},me=0,Be=function(e){return e!=null&&e.constructor==null},W.prototype.setState=function(e,t){var _;_=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=w({},this.state),typeof e=="function"&&(e=e(w({},_),this.props)),e&&w(_,e),e!=null&&this.__v&&(t&&this._sb.push(t),de(this))},W.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),de(this))},W.prototype.render=T,H=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ge=function(e,t){return e.__v.__b-t.__v.__b},q.__r=0,be=/(PointerCapture)$|Capture$/i,ee=0,Z=ve(!1),X=ve(!0),Oe=0;var z,m,re,Se,oe=0,Me=[],y=d,De=y.__b,Te=y.__r,Ae=y.diffed,Ne=y.__c,Ue=y.unmount,Ve=y.__;function je(e,t){y.__h&&y.__h(m,e,oe||t),oe=0;var _=m.__H||(m.__H={__:[],__h:[]});return e>=_.__.length&&_.__.push({}),_.__[e]}function G(e){return oe=1,Xe(Ie,e)}function Xe(e,t,_){var n=je(z++,2);if(n.t=e,!n.__c&&(n.__=[_?_(t):Ie(void 0,t),function(c){var s=n.__N?n.__N[0]:n.__[0],u=n.t(s,c);s!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=m,!m.__f)){var i=function(c,s,u){if(!n.__c.__H)return!0;var f=n.__c.__H.__.filter(function(p){return!!p.__c});if(f.every(function(p){return!p.__N}))return!r||r.call(this,c,s,u);var o=n.__c.props!==c;return f.forEach(function(p){if(p.__N){var a=p.__[0];p.__=p.__N,p.__N=void 0,a!==p.__[0]&&(o=!0)}}),r&&r.call(this,c,s,u)||o};m.__f=!0;var r=m.shouldComponentUpdate,l=m.componentWillUpdate;m.componentWillUpdate=function(c,s,u){if(this.__e){var f=r;r=void 0,i(c,s,u),r=f}l&&l.call(this,c,s,u)},m.shouldComponentUpdate=i}return n.__N||n.__}function J(e,t){var _=je(z++,3);!y.__s&&tt(_.__H,t)&&(_.__=e,_.u=t,m.__H.__h.push(_))}function Ye(){for(var e;e=Me.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(O),e.__H.__h.forEach(ie),e.__H.__h=[]}catch(t){e.__H.__h=[],y.__e(t,e.__v)}}y.__b=function(e){m=null,De&&De(e)},y.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ve&&Ve(e,t)},y.__r=function(e){Te&&Te(e),z=0;var t=(m=e.__c).__H;t&&(re===m?(t.__h=[],m.__h=[],t.__.forEach(function(_){_.__N&&(_.__=_.__N),_.u=_.__N=void 0})):(t.__h.forEach(O),t.__h.forEach(ie),t.__h=[],z=0)),re=m},y.diffed=function(e){Ae&&Ae(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Me.push(t)!==1&&Se===y.requestAnimationFrame||((Se=y.requestAnimationFrame)||et)(Ye)),t.__H.__.forEach(function(_){_.u&&(_.__H=_.u),_.u=void 0})),re=m=null},y.__c=function(e,t){t.some(function(_){try{_.__h.forEach(O),_.__h=_.__h.filter(function(n){return!n.__||ie(n)})}catch(n){t.some(function(i){i.__h&&(i.__h=[])}),t=[],y.__e(n,_.__v)}}),Ne&&Ne(e,t)},y.unmount=function(e){Ue&&Ue(e);var t,_=e.__c;_&&_.__H&&(_.__H.__.forEach(function(n){try{O(n)}catch(i){t=i}}),_.__H=void 0,t&&y.__e(t,_.__v))};var Fe=typeof requestAnimationFrame=="function";function et(e){var t,_=function(){clearTimeout(n),Fe&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(_,35);Fe&&(t=requestAnimationFrame(_))}function O(e){var t=m,_=e.__c;typeof _=="function"&&(e.__c=void 0,_()),m=t}function ie(e){var t=m;e.__c=e.__(),m=t}function tt(e,t){return!e||e.length!==t.length||t.some(function(_,n){return _!==e[n]})}function Ie(e,t){return typeof t=="function"?t(e):t}var _t=0;function k(e,t,_,n,i,r){t||(t={});var l,c,s=t;if("ref"in s)for(c in s={},t)c=="ref"?l=t[c]:s[c]=t[c];var u={type:e,props:s,key:_,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--_t,__i:-1,__u:0,__source:i,__self:r};if(typeof e=="function"&&(l=e.defaultProps))for(c in l)s[c]===void 0&&(s[c]=l[c]);return d.vnode&&d.vnode(u),u}var Le=()=>j(null,null,function*(){B(k(nt,{}),document.body)});function nt(){let{extension:{target:e},i18n:t}=shopify,_=rt();return k("s-stack",{direction:"block",gap:"base",children:[k("s-text",{children:k("strong",{children:"Volume Discount Configuration"})}),k("s-text",{children:["Product ID: ",(_==null?void 0:_.id)||"Loading..."]}),(_==null?void 0:_.title)&&k("s-text",{children:["Product: ",_.title]}),k("s-text",{children:"This product can be included in volume discount rules. Configure discounts in the Discounts section of the app."})]})}function rt(){var r;let{data:e,query:t}=shopify,_=(r=e==null?void 0:e.selected[0])==null?void 0:r.id,[n,i]=G(null);return J(()=>{_&&t(`#graphql
      query GetProduct($id: ID!) {
        product(id: $id) {
          id
          title
        }
      }
      `,{variables:{id:_}}).then(l=>{if(!l)return;let{data:c,errors:s}=l;if(s)console.error("Error fetching product:",s),i({id:_,title:null});else if(c&&typeof c=="object"&&"product"in c){let u=c.product;u&&i(u)}}).catch(l=>{console.error("Error fetching product:",l),i({id:_,title:null})})},[_,t]),n}var We=()=>j(null,null,function*(){B(k(ot,{}),document.body)});function ot(){let{extension:{target:e},i18n:t}=shopify,_=it();return k("s-stack",{direction:"block",children:[k("s-text",{children:t.translate("welcome",{target:e})}),_==null?void 0:_.bundleComponents.map(n=>k("s-text",{children:n.title},n.id))]})}function it(){let{data:e,query:t}=shopify,_=e==null?void 0:e.selected[0].id,[n,i]=G(null);return J(()=>{t(`#graphql
      query GetProductVariant($id: ID!) {
        productVariant(id: $id) {
          id
          title
          productVariantComponents(first: 100) {
            nodes {
              productVariant {
                id
                title
              }
            }
          }
        }
      }
      `,{variables:{id:_}}).then(({data:r,errors:l})=>{if(l)console.error(l);else{let c=r.productVariant,{productVariantComponents:s}=c,u=fe(c,["productVariantComponents"]);i(ae(Q({},u),{productVariantComponents:s.nodes.map(({productVariant:f})=>Q({},f))}))}})},[_,t]),n}shopify.extend("admin.product-details.configuration.render",(...e)=>Le(...e));shopify.extend("admin.product-variant-details.configuration.render",(...e)=>We(...e));})();
//# sourceMappingURL=discount-product.js.map
